(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,n,a){e.exports=a(33)},24:function(e,n,a){},25:function(e,n,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},26:function(e,n,a){},27:function(e,n,a){},32:function(e,n,a){},33:function(e,n,a){"use strict";a.r(n);var t={};a.r(t),a.d(t,"setPlaces",function(){return h}),a.d(t,"setPrice",function(){return b});var c=a(0),r=a.n(c),l=a(17),o=a.n(l),s=(a(24),a(2)),i=a(3),u=a(7),p=a(4),m=a(6),d=(a(25),a(26),a(11)),f=function(e,n){for(var a=[],t=1,c=1,r=1;t<=e;){for(;c<=n;)a.push({id:r++,row:t,place:c++,flag:Math.random()<.2});c=1,t++}return a},_=(a(27),a(5)),h=function(e){return{type:"SET_PLACES",arr:e}},b=function(e){return{type:"SET_PRICE",num:e}},E=100,v={1:{name:"green",space:f(7,14)}},g=function(e){function n(){var e,a;Object(s.a)(this,n);for(var t=arguments.length,c=new Array(t),r=0;r<t;r++)c[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(p.a)(n)).call.apply(e,[this].concat(c)))).state={room:null,price:0},a.generateHall=function(){var e=[],n=[];return a.state.room.space.forEach(function(a,t,c){a.row===(c[t+1]?c[t+1].row:null)?n.push(a):(n.push(a),e.push(n),n=[])}),e},a.mouseHandler=function(e){return function(n){e.flag||a.checkId(e.id)||(n.target.style.background="orange")}},a.mouseOutHandler=function(e){return function(n){e.flag||a.checkId(e.id)||(n.target.style.background="blue")}},a.checkId=function(e){return a.props.places.some(function(n){return n.id===e})},a.clickHanler=function(e){return function(n){if(console.log(e),!e.flag){var t=Object(d.a)(a.props.places),c=t.indexOf(e);c>-1?t.splice(c,1):t.push(e),a.props.setPlaces(t),console.log("cilck",a.props.places)}}},a}return Object(m.a)(n,e),Object(i.a)(n,[{key:"componentDidMount",value:function(){this.setState({room:v[1],price:E}),this.props.setPrice(E)}},{key:"render",value:function(){var e=this;return this.state.room?r.a.createElement("div",{className:"room"},r.a.createElement("h1",{className:"room__title"},this.state.room.name),r.a.createElement("div",{className:"room__hall"},this.generateHall().map(function(n,a){return r.a.createElement("div",{className:"room__hall__line",key:a},n.map(function(n,t){var c=e.checkId(n.id);return console.log(c,n.id),r.a.createElement("div",{className:"room__hall__line__cell",key:t+a,title:"\u0440\u044f\u0434: ".concat(n.row,"; \u043c\u0435\u0441\u0442\u043e: ").concat(n.place,"; \u0446\u0435\u043d\u0430: ").concat(e.state.price),style:{background:c?"orange":n.flag?"gray":"blue",color:n.flag?"gray":"blue"},onMouseOver:e.mouseHandler(n),onMouseOut:e.mouseOutHandler(n),onClick:e.clickHanler(n)},n.place)}))}))):r.a.createElement("div",{className:"room"},"Loading...")}}]),n}(c.Component),k=g=Object(_.b)(function(e){return{places:e.places.places}},t)(g),O=a(9),y=Object(O.b)({places:function(e,n){return void 0===e?{places:[],price:0}:"SET_PLACES"===n.type?{places:n.arr,price:e.price}:"SET_PRICE"===n.type?{places:e.places,price:n.num}:e}}),j=Object(O.c)(y),w=(a(32),function(e){function n(){var e,a;Object(s.a)(this,n);for(var t=arguments.length,c=new Array(t),r=0;r<t;r++)c[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(p.a)(n)).call.apply(e,[this].concat(c)))).clickDelHandler=function(e){return function(n){var t=Object(d.a)(a.props.places);t.splice(t.indexOf(e),1),a.props.setPlaces(t)}},a.allDel=function(e){a.props.setPlaces([])},a}return Object(m.a)(n,e),Object(i.a)(n,[{key:"render",value:function(){var e=this,n=this.props;return r.a.createElement("div",{className:"panel"},r.a.createElement("h2",null,"\u0412\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0435 \u043c\u0435\u0441\u0442\u0430"),r.a.createElement("p",{style:{display:n.places.length?"none":"block"}},"\u0414\u043b\u044f \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0435\u043d\u0438\u044f \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0445\u043e\u0442\u044f \u0431\u044b \u043e\u0434\u043d\u043e \u043c\u0435\u0441\u0442\u043e \u043d\u0430 \u0441\u0445\u0435\u043c\u0435 \u0437\u0430\u043b\u0430"),r.a.createElement("div",{className:"panel__item-bar",style:{display:n.places.length?"block":"none"}},r.a.createElement("div",{className:"panel__item-bar__line"},r.a.createElement("span",null,"\u0420\u044f\u0434"),r.a.createElement("span",null,"\u041c\u0435\u0441\u0442\u043e"),r.a.createElement("span",null,"\u0426\u0435\u043d\u0430")),n.places.map(function(a,t){return r.a.createElement("div",{className:"panel__item-bar__line"},r.a.createElement("span",null,a.row),r.a.createElement("span",null,a.place),r.a.createElement("span",null,n.price," \u0433\u0440\u043d",r.a.createElement("span",{className:"panel__item-bar__line__del",onClick:e.clickDelHandler(a)},"x")))}),r.a.createElement("div",{className:"panel__item-bar__sum"},r.a.createElement("span",null,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u0441\u0435"),r.a.createElement("span",{className:"panel__item-bar__line__del",onClick:this.allDel},"x")),r.a.createElement("div",{className:"panel__item-bar__sum"},r.a.createElement("span",null,"\u0412\u0441\u0435\u0433\u043e:"),r.a.createElement("span",null,n.places.reduce(function(e,a){return e+n.price},0)))))}}]),n}(c.Component)),N=w=Object(_.b)(function(e){return{places:e.places.places,price:e.places.price}},t)(w);j.subscribe(function(){return console.log(j.getState())});var C=function(e){function n(){return Object(s.a)(this,n),Object(u.a)(this,Object(p.a)(n).apply(this,arguments))}return Object(m.a)(n,e),Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement(_.a,{store:j},r.a.createElement("div",{className:"App"},r.a.createElement(k,null),r.a.createElement(N,null)))}}]),n}(c.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[19,1,2]]]);
//# sourceMappingURL=main.fba3875b.chunk.js.map